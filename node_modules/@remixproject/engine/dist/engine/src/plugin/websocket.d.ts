import { Plugin } from './abstract';
import { ExternalProfile } from '../../../utils';
export declare class WebsocketPlugin extends Plugin {
    profile: ExternalProfile;
    private readonly listener;
    private readonly reconnectOnclose;
    private id;
    private pendingRequest;
    private socket;
    constructor(profile: ExternalProfile);
    activate(): Promise<void>;
    deactivate(): void;
    /** Try to reconnect to net websocket if closes */
    private reconnect;
    /** Connect to the websocket */
    private connect;
    /** Call a method from this plugin */
    protected callPluginMethod(key: string, payload?: any[]): Promise<any>;
    /** Get message from the iframe */
    private getMessage;
    /**
     * Post a message to the iframe of this plugin
     * @param message The message to post
     */
    private postMessage;
}
